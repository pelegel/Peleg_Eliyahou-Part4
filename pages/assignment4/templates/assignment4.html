{% extends 'base.html' %}
{% block title %}Assignment4{% endblock %}



{% block stylesheet %}
    <link rel="stylesheet" href="{{ url_for('assignment4.static', filename='css/assignment4.css') }}" />
{% endblock %}

{% block tohen %}



    <header id="HeaderH" class="header">
        <h1>Assignment4</h1>
    </header><br><br>



    <div class="assignment4_container">

        {# -------------------------- insertion form --------------------------#}
        <h2 class="header">Insertion Form</h2>

        <form action="/insert_user" method="post">
            <input type="text" name="username" placeholder="Username"><br>
            <input type="text" name="email" placeholder="Email"><br>
            <input type="text" name="password" placeholder="Password"><br>

            <input type="submit" id="insertUserBtn" value="Insert User"><br><br><br>
        </form>


        {# ......................... end insertion form .......................#}



        {# ---------------------------- update form ---------------------------#}
        <h2 class="header">Update Form</h2>

        <form action="/update_user" method="post">
            <p class="try">Please enter the email of the user you would like to update its details:</p>
            <input type="text" name="email_to_update" placeholder="Email"><br>

            <p>Please enter the new details for this user:</p>
            <input type="text" name="username" placeholder="Username"><br>
            <input type="text" name="email" placeholder="Email"><br>
            <input type="text" name="password" placeholder="Password"><br>

            <input type="submit" id="findUserBtn" value="Update User"><br><br><br>
        </form>

        {# .......................... end update form .........................#}





        {# --------------------------- deletion form --------------------------#}
        <h2 class="header">Deletion Form</h2>

        <form action="/delete_user" method="post">
            <input type="text" name="email" placeholder="Email"><br>
            <input type="submit" id="deleteUserBtn" value="Delete User"><br><br><br>
        </form>



        {# .......................... end deletion form .......................#}




        {# ------------------------ list of users form ------------------------#}
        <h2 class="header">List Of Users</h2>

        <form action="/select_users">
            <input type="submit" id="allUserBtn" value="Get List Of All Users"><br><br><br>
        </form>


        <div class="user_list">
            {% for user in users %}
                <div class="container">
                    <h3>Username: {{ user.username }}</h3>
                    <h4>Email: {{ user.email }}</h4>
                    <h4>Password: {{ user.password }}</h4>
                </div>
            {% endfor %}
        </div><br>

        {% for user in users %}

        {% endfor %}

        {# ....................... end list of users form .....................#}




        {# ----------------------- front end fetch form -----------------------#}

        <div class="user_list">
            <h2 class="header">Fetch - Front End</h2>
            <form action="/fetch_fe">
                <input type="number" id="user_num_fetch_fe" min="0" max="6"><br><br><br>
            </form>

            <h3>User List: <button onclick="fetch_users_fe()">Click me</button></h3>
            <main id="fetch_fe_results"></main>
        </div>

        {# ...................... end front end fetch form ....................#}




        {# ------------------------ back end fetch form -----------------------#}

        <div class="user_list">
            <h2 class="header">Fetch - Back End</h2>
            <form action="/fetch_be" method="get">
                <input type="number" id="user_num_fetch_be" name="user_num_fetch_be" min="1" max="6" required>
                <input type="hidden" name="type" value="sync">
                <input type="submit" value="Get User"><br><br><br>
            </form>


            {% if session.searched_user %}
                {% for user in session.searched_user %}
                    <img src="{{user.avatar}}" alt="Profile Picture"/>
                    <div>
                        <span>{{user.first_name}}</span>
                        <br>
                        <a href="mailto:{{user.email}}">Send Email</a>
                    </div>

                {% endfor %}
            {% endif %}



        </div>

        {# ...................... end back end fetch form .....................#}




    </div>
    {% block javascript %}
        <script src="{{ url_for('assignment4.static', filename='js/assignment4.js') }}"></script>
        <!-- JavaScript Bundle with Popper -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    {% endblock %}

{% endblock %}

